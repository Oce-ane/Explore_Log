
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<%= render "shared/header" %>
<%= simple_form_for(@journey) do |f| %>
  <%= f.input :name, input_html: {autocomplete: 'off'} %>
  <%= f.label :location %>
  <%= f.input :location, as: :hidden,
              input_html: { class: "journey_location",
                    data: {location_autocomplete_target: "location"}},
              wrapper_html: {data: {controller: "location-autocomplete",
                                    location_autocomplete_api_key_value: ENV["MAPBOX_API_KEY"]}} %>
  <br>
  <div class="form-inline">
    <div class="start">
      <%= f.input :start_date,
              as: :string,
              input_html: { data: { controller: "datepicker" } } %>
    </div>
    <div class="end">
      <%= f.input :end_date,
              as: :string,
              input_html: { data: { controller: "datepicker" } } %>
    </div>
  </div>
  <%= f.input :description %>
 <%# TODO: Fix styling. Showing the file uploaded but styling is wrong %>
  <%= f.label :cover_photo, class: "btn picture mt-3" do %>
    <i class="fa-solid fa-camera"></i>
    <%= f.file_field :cover_photo, class: "hidden-input" %>
    <%# <span id="file-name"></span> %>
  <% end %>
  <%= f.label :song, class: "btn mt-3", id: "music" do %>
    <i class="fa-solid fa-music"></i>
    <%= f.file_field :song, class: "hidden-input" %>
  <% end %>
  <%# <%= f.submit "✔️", class: "large", id: "submit-btn" %>
  <%= button_tag( class: "large", id: "submit-btn" ) do  %>
    <i class="fa-solid fa-check"></i>
  <% end %>
<% end %>

<%# <script type="text/javascript">
  $(document).ready(function() {
    $('.hidden-input').change(function() {
      var fileName = $(this).val().split('\\').pop(); // Get the file name from the file path
      $('#file-name').text(fileName); // Display the file name
    });
  });
</script> %>
